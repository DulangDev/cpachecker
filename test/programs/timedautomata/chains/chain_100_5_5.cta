MODULE Chain
{
  INPUT
    l:    SYNC;
    r:    SYNC;
    fin:  SYNC;
  LOCAL
    x:  CLOCK;
  INITIAL s_0;
  AUTOMATON automaton
  {
    STATE s_0 { TRANS { SYNC l; RESET x; GOTO s_1; } }
    STATE s_1 { TRANS { GUARD x >= 4; SYNC r; GOTO s_2; } }
    STATE s_2 { TRANS { SYNC l; RESET x; GOTO s_3; } }
    STATE s_3 { TRANS { GUARD x >= 4; SYNC r; GOTO s_4; } }
    STATE s_4 { TRANS { SYNC l; RESET x; GOTO s_5; } }
    STATE s_5 { TRANS { GUARD x >= 4; SYNC r; GOTO s_6; } }
    STATE s_6 { TRANS { SYNC l; RESET x; GOTO s_7; } }
    STATE s_7 { TRANS { GUARD x >= 4; SYNC r; GOTO s_8; } }
    STATE s_8 { TRANS { SYNC l; RESET x; GOTO s_9; } }
    STATE s_9 { TRANS { GUARD x >= 4; SYNC r; GOTO s_10; } }
    STATE s_10 { TRANS { SYNC l; RESET x; GOTO s_11; } }
    STATE s_11 { TRANS { GUARD x >= 4; SYNC r; GOTO s_12; } }
    STATE s_12 { TRANS { SYNC l; RESET x; GOTO s_13; } }
    STATE s_13 { TRANS { GUARD x >= 4; SYNC r; GOTO s_14; } }
    STATE s_14 { TRANS { SYNC l; RESET x; GOTO s_15; } }
    STATE s_15 { TRANS { GUARD x >= 4; SYNC r; GOTO s_16; } }
    STATE s_16 { TRANS { SYNC l; RESET x; GOTO s_17; } }
    STATE s_17 { TRANS { GUARD x >= 4; SYNC r; GOTO s_18; } }
    STATE s_18 { TRANS { SYNC l; RESET x; GOTO s_19; } }
    STATE s_19 { TRANS { GUARD x >= 4; SYNC r; GOTO s_20; } }
    STATE s_20 { TRANS { SYNC l; RESET x; GOTO s_21; } }
    STATE s_21 { TRANS { GUARD x >= 4; SYNC r; GOTO s_22; } }
    STATE s_22 { TRANS { SYNC l; RESET x; GOTO s_23; } }
    STATE s_23 { TRANS { GUARD x >= 4; SYNC r; GOTO s_24; } }
    STATE s_24 { TRANS { SYNC l; RESET x; GOTO s_25; } }
    STATE s_25 { TRANS { GUARD x >= 4; SYNC r; GOTO s_26; } }
    STATE s_26 { TRANS { SYNC l; RESET x; GOTO s_27; } }
    STATE s_27 { TRANS { GUARD x >= 4; SYNC r; GOTO s_28; } }
    STATE s_28 { TRANS { SYNC l; RESET x; GOTO s_29; } }
    STATE s_29 { TRANS { GUARD x >= 4; SYNC r; GOTO s_30; } }
    STATE s_30 { TRANS { SYNC l; RESET x; GOTO s_31; } }
    STATE s_31 { TRANS { GUARD x >= 4; SYNC r; GOTO s_32; } }
    STATE s_32 { TRANS { SYNC l; RESET x; GOTO s_33; } }
    STATE s_33 { TRANS { GUARD x >= 4; SYNC r; GOTO s_34; } }
    STATE s_34 { TRANS { SYNC l; RESET x; GOTO s_35; } }
    STATE s_35 { TRANS { GUARD x >= 4; SYNC r; GOTO s_36; } }
    STATE s_36 { TRANS { SYNC l; RESET x; GOTO s_37; } }
    STATE s_37 { TRANS { GUARD x >= 4; SYNC r; GOTO s_38; } }
    STATE s_38 { TRANS { SYNC l; RESET x; GOTO s_39; } }
    STATE s_39 { TRANS { GUARD x >= 4; SYNC r; GOTO s_40; } }
    STATE s_40 { TRANS { SYNC l; RESET x; GOTO s_41; } }
    STATE s_41 { TRANS { GUARD x >= 4; SYNC r; GOTO s_42; } }
    STATE s_42 { TRANS { SYNC l; RESET x; GOTO s_43; } }
    STATE s_43 { TRANS { GUARD x >= 4; SYNC r; GOTO s_44; } }
    STATE s_44 { TRANS { SYNC l; RESET x; GOTO s_45; } }
    STATE s_45 { TRANS { GUARD x >= 4; SYNC r; GOTO s_46; } }
    STATE s_46 { TRANS { SYNC l; RESET x; GOTO s_47; } }
    STATE s_47 { TRANS { GUARD x >= 4; SYNC r; GOTO s_48; } }
    STATE s_48 { TRANS { SYNC l; RESET x; GOTO s_49; } }
    STATE s_49 { TRANS { GUARD x >= 4; SYNC r; GOTO s_50; } }
    STATE s_50 { TRANS { SYNC l; RESET x; GOTO s_51; } }
    STATE s_51 { TRANS { GUARD x >= 4; SYNC r; GOTO s_52; } }
    STATE s_52 { TRANS { SYNC l; RESET x; GOTO s_53; } }
    STATE s_53 { TRANS { GUARD x >= 4; SYNC r; GOTO s_54; } }
    STATE s_54 { TRANS { SYNC l; RESET x; GOTO s_55; } }
    STATE s_55 { TRANS { GUARD x >= 4; SYNC r; GOTO s_56; } }
    STATE s_56 { TRANS { SYNC l; RESET x; GOTO s_57; } }
    STATE s_57 { TRANS { GUARD x >= 4; SYNC r; GOTO s_58; } }
    STATE s_58 { TRANS { SYNC l; RESET x; GOTO s_59; } }
    STATE s_59 { TRANS { GUARD x >= 4; SYNC r; GOTO s_60; } }
    STATE s_60 { TRANS { SYNC l; RESET x; GOTO s_61; } }
    STATE s_61 { TRANS { GUARD x >= 4; SYNC r; GOTO s_62; } }
    STATE s_62 { TRANS { SYNC l; RESET x; GOTO s_63; } }
    STATE s_63 { TRANS { GUARD x >= 4; SYNC r; GOTO s_64; } }
    STATE s_64 { TRANS { SYNC l; RESET x; GOTO s_65; } }
    STATE s_65 { TRANS { GUARD x >= 4; SYNC r; GOTO s_66; } }
    STATE s_66 { TRANS { SYNC l; RESET x; GOTO s_67; } }
    STATE s_67 { TRANS { GUARD x >= 4; SYNC r; GOTO s_68; } }
    STATE s_68 { TRANS { SYNC l; RESET x; GOTO s_69; } }
    STATE s_69 { TRANS { GUARD x >= 4; SYNC r; GOTO s_70; } }
    STATE s_70 { TRANS { SYNC l; RESET x; GOTO s_71; } }
    STATE s_71 { TRANS { GUARD x >= 4; SYNC r; GOTO s_72; } }
    STATE s_72 { TRANS { SYNC l; RESET x; GOTO s_73; } }
    STATE s_73 { TRANS { GUARD x >= 4; SYNC r; GOTO s_74; } }
    STATE s_74 { TRANS { SYNC l; RESET x; GOTO s_75; } }
    STATE s_75 { TRANS { GUARD x >= 4; SYNC r; GOTO s_76; } }
    STATE s_76 { TRANS { SYNC l; RESET x; GOTO s_77; } }
    STATE s_77 { TRANS { GUARD x >= 4; SYNC r; GOTO s_78; } }
    STATE s_78 { TRANS { SYNC l; RESET x; GOTO s_79; } }
    STATE s_79 { TRANS { GUARD x >= 4; SYNC r; GOTO s_80; } }
    STATE s_80 { TRANS { SYNC l; RESET x; GOTO s_81; } }
    STATE s_81 { TRANS { GUARD x >= 4; SYNC r; GOTO s_82; } }
    STATE s_82 { TRANS { SYNC l; RESET x; GOTO s_83; } }
    STATE s_83 { TRANS { GUARD x >= 4; SYNC r; GOTO s_84; } }
    STATE s_84 { TRANS { SYNC l; RESET x; GOTO s_85; } }
    STATE s_85 { TRANS { GUARD x >= 4; SYNC r; GOTO s_86; } }
    STATE s_86 { TRANS { SYNC l; RESET x; GOTO s_87; } }
    STATE s_87 { TRANS { GUARD x >= 4; SYNC r; GOTO s_88; } }
    STATE s_88 { TRANS { SYNC l; RESET x; GOTO s_89; } }
    STATE s_89 { TRANS { GUARD x >= 4; SYNC r; GOTO s_90; } }
    STATE s_90 { TRANS { SYNC l; RESET x; GOTO s_91; } }
    STATE s_91 { TRANS { GUARD x >= 4; SYNC r; GOTO s_92; } }
    STATE s_92 { TRANS { SYNC l; RESET x; GOTO s_93; } }
    STATE s_93 { TRANS { GUARD x >= 4; SYNC r; GOTO s_94; } }
    STATE s_94 { TRANS { SYNC l; RESET x; GOTO s_95; } }
    STATE s_95 { TRANS { GUARD x >= 4; SYNC r; GOTO s_96; } }
    STATE s_96 { TRANS { SYNC l; RESET x; GOTO s_97; } }
    STATE s_97 { TRANS { GUARD x >= 4; SYNC r; GOTO s_98; } }
    STATE s_98 { TRANS { SYNC l; RESET x; GOTO s_99; } }
    STATE s_99 { TRANS { GUARD x >= 4; SYNC r; GOTO s_100; } }
    STATE s_100 { TRANS { SYNC fin; GOTO s_100; } }
  }
}
MODULE ChainGroup
{
  INPUT
    fin:  SYNC;
  LOCAL
    s_0:  SYNC;
    s_1:  SYNC;
    s_2:  SYNC;
    s_3:  SYNC;
    s_4:  SYNC;
    s_5:  SYNC;
  INST proc1 FROM Chain WITH { fin AS fin; l AS s_0; r AS s_1; }
  INST proc2 FROM Chain WITH { fin AS fin; l AS s_1; r AS s_2; }
  INST proc3 FROM Chain WITH { fin AS fin; l AS s_2; r AS s_3; }
  INST proc4 FROM Chain WITH { fin AS fin; l AS s_3; r AS s_4; }
  INST proc5 FROM Chain WITH { fin AS fin; l AS s_4; r AS s_5; }
}
MODULE ROOT System
{
  LOCAL
    fin:  SYNC;
  INST group1 FROM ChainGroup WITH { fin AS fin; }
  INST group2 FROM ChainGroup WITH { fin AS fin; }
  INST group3 FROM ChainGroup WITH { fin AS fin; }
  INST group4 FROM ChainGroup WITH { fin AS fin; }
  INST group5 FROM ChainGroup WITH { fin AS fin; }
  INITIAL start;
  AUTOMATON RunningState
  {
    STATE start { TRANS { SYNC fin; GOTO fin; } }
    STATE fin { TRANS { SYNC fin; GOTO fin; } }
  }
}