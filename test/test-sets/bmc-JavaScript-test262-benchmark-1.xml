<?xml version="1.0"?>
<!--
  ~  CPAchecker is a tool for configurable software verification.
  ~  This file is part of CPAchecker.
  ~
  ~  Copyright (C) 2007-2019  Dirk Beyer
  ~  All rights reserved.
  ~
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  ~
  ~
  ~  CPAchecker web page:
  ~    http://cpachecker.sosy-lab.org
  -->
<!DOCTYPE benchmark PUBLIC "+//IDN sosy-lab.org//DTD BenchExec benchmark 1.0//EN"
        "http://www.sosy-lab.org/benchexec/benchmark-1.0.dtd">
<benchmark tool="cpachecker" timelimit="900 s" hardtimelimit="1000 s" memlimit="15 GB" cpuCores="4">
    <!--
        Download and generate task definition files:
            git clone https://github.com/tc39/test262 test/programs/javascript-test262-benchmark/test262
            cd test/programs/javascript-test262-benchmark/test262
            git checkout d47749e84daeea28b6fa7cefd69e7f2836dbbf37
            rm -rf .git
            rm -rf .gitignore
            cd -
            python3 test/scripts/javascript-test262-benchmark/generate-bmc-JavaScript-test262-benchmark-tasks.py -positives
        Run this benchmark:
            scripts/benchmark.py test/test-sets/bmc-JavaScript-test262-benchmark-1.xml
    -->


    <option name="-noout"/>
    <option name="-heap">13000M</option>

    <rundefinition>
        <option name="-bmc-JavaScript"/>
    </rundefinition>

    <tasks>
        <propertyfile>../config/specification/JavaScriptAssertion.spc</propertyfile>
        <!-- MathSAT runs much faster than Z3 in these cases -->
        <option name="-setprop">cpa.loopbound.maxLoopIterations=11</option>
        <option name="-setprop">cpa.predicate.js.maxFieldNameCount=80</option>

        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*.yml</include>
        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*/*.yml</include>
        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*/*/*.yml</include>
        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*/*/*/*.yml</include>
        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*/*/*/*/*.yml</include>
        <include>../programs/javascript-test262-benchmark/test262/test/language/*/*/*/*/*/*/*.yml</include>
    </tasks>
</benchmark>
